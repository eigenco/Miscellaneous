# Miscellaneous

D.pas: Custom colorful dir command for slow DOS PCs with large drives (such as IBM 5150 with XTIDE). Doesn't calculate free disk space so works much faster. Might have some issues with drives containing or having contained long filenames.

![Screenshot from 2024-06-08 00-19-11](https://github.com/eigenco/Miscellaneous/assets/42321684/34a9e7d0-1c9c-41a7-bba8-054b5e9252ec)


int13.asm: Hacked VGABIOS for Trident TVGA 9000i allowing boot from Sound Blaster AWE64 PnP IDE without any additional ROMs. The final binary files are generated by checksum.py which corrects the checksum byte and interleaves the data as required by the board.

Recently fixed buggy write routine in int13.asm that corrupted data when writing. Now everything seems to be working fine.

Remember to set VGABIOS shadow option on in the BIOS. This significantly shortens load times.

Currently only standard maximum CHS 1024/16/63 geometry is supported. This gives DOS the impression that the drive is 504 MiB in size (the historical limit, larger disks will work, but their size is limited).

The VGABIOS ROM chip one needs to upload the binary to is circled lower in the photo below.

![b](https://user-images.githubusercontent.com/42321684/183293270-acaf0e7e-1472-4642-a010-b7a36ed051bb.jpg)

I'm using compact flash adapter in the IDE connector of my Sound Blaster AWE64, but CF requires +5V so I soldered one wire to the upper circled pin on the AWE board to provide this. Ground is sufficiently provided through the IDE connector.

![20220807160957](https://user-images.githubusercontent.com/42321684/183293348-9df50234-928c-420a-9911-57a270743351.jpg)

Boot process is rather bare bones. I made a replacement int 13h that does access using ATA PIO and boot process is handled by my replacement int 19h. These are currently raw replacements and prevent any other processes using these ints from occurring (e.g. floppy access).
